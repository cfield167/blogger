<!DOCTYPE html>
<html ng-app="bloggerApp">
  <head>
    <script src="/js/angular.min.js"></script>
    <script src="/js/angular-route.min.js"></script>
    <script src="/js/angular-ui-router.min.js"></script>
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <link rel='stylesheet' href='/css/bootstrap.min.css' />
    <link rel='stylesheet' href='/css/fontawesome-all.css' />
  </head>
  <body>
   <!-- Navbar -->
<div ng-controller="NavigationController">
<navigation></navigation>
</div>

<!-- angular templates -->
   <script type="text/ng-template" id="sites/home.html">
     <p></p>
     <h1 style="color:red">{{vm.pageHeader.title}}</h1>
     <h5>{{vm.message}}</h5>
   </script>

   <script type="text/ng-template" id="sites/blogList.html">
   <p></p>
   <div ng-repeat="blog in vm.blogs">
   <div class="card border-primary" style="width: 35%">
      <div class="card-header">
      </div>
      <div class="card body">
          <h5 class="card-title">{{blog.blogTitle}}</h5>
          <p class="card-text ">{{blog.blogText}}</p>
      </div>
      <div class="card-footer">
         <div class="col-sm">
           <ul class="nav justify-content-end nav-pills card-header-pills">
             <li class="nav-item">
                <a ng-if="vm.isLoggedIn" class="nav-link" href="#/blogEdit/{{blog._id}}"><i class="fas fa-edit"></i></a>
             </li>
             <li class="nav-item">
                <a ng-if="vm.isLoggedIn" class="nav-link" href="#/blogDelete/{{blog._id}}"> <i class="fas fa-trash-alt"></i></a>
             </li>
           </ul>
        </div>
      </div>
   </div>
   <p><!--card-->
   </div>
   </script>

   <script type="text/ng-template" id="sites/blogAdd.html">
   <p></p>
   <div class="card border-primary" style="width: 50%">
     <form name="userForm" ng-submit="vm.submit()" ng-controller="addController" style="padding: 20px">
       <div class="form-group">
         <label for="summary" class="text-primary">Blog Title</label>
         <input class="form-control" id="blogTitle" name="blogTitle" value="{{vm.blog.blogtitle}}">
         <label for="detail" class="text-primary">Blog Text</label>
         <textarea class="form-control" id="blogText" name="blogText" rows="3">{{vm.blog.blogText}}</textarea>
       </div>
       <input type="submit" class="btn btn-primary" value="Add Blog">
     </form>
    </div>
   </script>

   <script type="text/ng-template" id="sites/blogEdit.html">
   <p></p>
   <div class="card border-primary" style="width: 50%">
     <form name="userForm" ng-submit="vm.submit()" ng-controller="editController" style="padding: 20px">
       <div class="form-group">
         <label for="summary" class="text-primary">Blog Title</label>
         <input class="form-control" id="blogTitle" name="blogTitle" value="{{vm.blog.blogTitle}}">
         <label for="detail" class="text-primary">Blog Text</label>
         <textarea class="form-control" id="blogText" name="blogText" rows="3">{{vm.blog.blogText}}</textarea>
       </div>
       <input type="submit" class="btn btn-primary float-right" value="Save Blog">
       <button ng-click="vm.cancel()" ng-controller="editController" class="btn btn-danger float-right" style="margin-right: 25px">Cancel</button>
     </form>
    </div>
    </script>

    <script type="text/ng-template" id="sites/blogDelete.html">
    <p></p>
    <div class="card border-primary" style="width: 50%">
      <form name="userForm" ng-submit="vm.submit()" ng-controller="deleteController" style="padding: 20px">
        <div class="form-group">
          <label for="summary" class="text-primary">Blog Title</label>
          <input readonly class="form-control" id="blogTitle" name="blogTitle" value="{{vm.blog.blogTitle}}">
          <label for="detail" class="text-primary">Blog Text</label>
          <textarea readonly class="form-control" id="blogText" name="blogText" rows="3">{{vm.blog.blogText}}</textarea>
        </div>
        <input type="submit" class="btn btn-danger float-right" value="Delete Blog">
        <button ng-click="vm.cancel()" ng-controller="deleteController" class="btn btn-primary float-right" style= "margin-right: 25px">Cancel</button>
      </form>
    </div>
    </script>

<!--Navigation Directive-->
<!--<div ng-controller="NavigationController">
   <navigation></navigation>
</div>-->

<!--Angular View-->
 <div ng-view></div>


 <script src="/bloggerApp.js"></script>
 <script src="/auth/authentication.js"></script>
 <script src="/nav/navigation.js"></script>
 </body>
</html>
